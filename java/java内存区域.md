#### java内存

##### java 虚拟机

>java虚拟机在执行Java 程序过程中，会把它管理的内存划分为若干个不同的数据区域
>
>运行时的数据区
>
>- 方法区
>- 虚拟机栈
>- 本地方法栈
>- 堆
>- 程序计数器
>
>
>
>- 执行引擎  --> 本地库接口 --> 本地方法库
>
>其中线程所私有的：
>
>* 程序计数器
>* 虚拟机栈
>* 本地方法栈
>
>线程共享的：
>
>* 堆
>* 方法区
>* 直接内存

##### 程序计时器

* 概念

>是一个较小的内存空间，可以看作是当前线程所执行的字节码的行号指示器。字节解释器工作时通过改变
>
>==字节码解释器== 工作时通过改变这个计时器的值来选取下一条需要执行的字节码指令，分支，循环，跳转，异常处理，线程恢复等功能都需要依赖这个计时器来完成
>
>另外，为了线程切换后能恢复到正确的执行位置，每条线程都需要有一个独立的程序计数器，各线程之间计数器互不影响，独立存储，我们称这类内存区域为"线程私有"的内存

* 作用

>1. 字节码解释器通过改变程序计数器来依次读取指令，从而实现代码的流程控制，如：顺序执行，选择，循环，异常处理
>2. 在多线程的情况下，程序计数器用于记录当前线程执行的位置，从而当线程被切换回来的时候能够知道改线程上次运行到那儿了

##### java 虚拟机栈

* java 虚拟机栈也是线程私有的，它的生命周期和线程相同，描述的是java方法执行的内存模型

##### java对象的创建

* java创建对象的过程

>1. 类加载检查
>2. 分配内存
>3. 初始化零值
>4. 设置对象头
>5. 执行init方法





